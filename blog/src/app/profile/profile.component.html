<div class="bg">
    <div class="fg">


        <div class="card">
            <div class="card-header text-center h4">
                <div class="hover1" style="display:inline-block;">
                <img src="{{image.image}}" width="200px" style="border:5px solid rgba(220, 53, 70, 0.733);box-shadow:0 0 30px 3px grey;"/>
                <i class="fas fa-pencil-alt icon1" style="position:absolute;float:right;font-size:12pt;background: none;cursor:pointer;" (click)="editClicked()">
                    </i> 
                </div>
                <br><br>
                {{user.username}}
                <br><br>
                {{user.email}}
            </div>
        </div>
        <br>
        <div class="container text-center">
            <button type="button" class="btn btn-danger btn1" data-toggle="collapse" data-target="#demo">Write a blog
                <i class="fas fa-pencil-alt" style="font-size:12pt;background: none">
                </i>
            </button>


            <div id="demo" class="collapse alert alert-secondary">

                <textarea class="form-control" rows="1" placeholder="Title" name="t1" [(ngModel)]="t_var"></textarea>
                <br>
                <textarea class="form-control" rows="10" placeholder="Content" name="c1" [(ngModel)]="c_var"></textarea>
                <br>
                <button class="btn btn-danger" (click)="addPost()">Post</button>
            </div>
        </div>

        <div class="container-fluid" style="margin:70px 0;">

            <div class="container bg1" style="padding-bottom:40px">
                <div class="text-center h3" style="margin-bottom:30px;background:white;padding:20px 0;">My Posts</div>

                <div *ngFor="let p of posts" class="container text-center">
                    <div *ngIf="p.author==user.username" class="card w-100 card1" style="width: 18rem;">

                        <div class="card-header">
                            <h5 class="card-title text-light">{{p.title}}
                                <span style="float:right;">
                                    <i class="fas fa-pencil-alt" style="font-size:12pt;cursor:pointer"
                                        (click)="getCurPostContent(p.id)" data-toggle="modal" data-target="#myModal">
                                    </i>
                                    <i class="fas fa-trash-alt" style="margin-left:15px;font-size:12pt;cursor:pointer"
                                        (click)="curPost=p.id" data-toggle="modal" data-target="#myModal1"></i>
                                </span>
                            </h5>
                            <h6 class="card-subtitle mb-2 text-light">Posted / Edited by <b>{{p.author}}</b> on
                                {{formatDate(p.date)}} at
                                {{formatTime(p.time)}}</h6>
                        </div>
                        <div class="card-body">
                            <p class="card-text text-justify">{{p.content}}</p>
                        </div>

                    </div>

                </div>
            </div>

        </div>


        <div class="modal fade" id="myModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="text-center alert alert-secondary">

                            <textarea class="form-control" rows="1" placeholder="Title" name="t1"
                                [(ngModel)]="t1_var"></textarea>
                            <br>
                            <textarea class="form-control" rows="10" placeholder="Content" name="c1"
                                [(ngModel)]="c1_var"></textarea>
                            <br>
                            <button class="btn btn-danger" (click)="editPost()">Post</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="modal fade" id="myModal1">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <div class="text-center">

                            <font size="4">Are you sure you want to delete this post ?</font><br><br>
                            <button class="btn btn-danger" (click)="delPost()">
                                Yes
                            </button>
                            <button class="btn btn-danger" style="margin-left:20px" (click)="no()">
                                No
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<input id="propic" type="file" style="opacity:0" (change)="getFile()"/>